<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./main.css">
    <title>Document</title>
<style>
#lightbox {
    --time: 0.4s;
    --default-height: 100vh;
    --default-color:rgba(0, 0, 0, 0.8);
    --default-img: calc(100vh - 4rem);
    top:0;
    position: fixed;
    width: 100vw;
    height: 0;
    overflow: hidden;
    text-align: center;
    transition: var(--time);
}

#lightbox-content {
    margin-top: 1rem;
    position: relative;
    display: inline-block;
    padding: 0.5rem;
    background-color: white;

    img {
        display: block;
        transition: 1s;
        max-height: 0;
        width: 100%;
        object-fit: cover;
    }

    svg {
        height: 15%;
        position: absolute;
        padding: 1rem;
        top: 50%;
        transform: translateY(-50%);
            --color:rgba(255, 255, 255, 0.5);
        --width:2px;
        filter:drop-shadow(var(--width)0 0 var(--color))drop-shadow(calc(-1*var(--width))0 0 var(--color))drop-shadow(0 var(--width)0 var(--color))drop-shadow(0 calc(-1*var(--width)) 0 var(--color))
    }
}

#lightbox-content > a {
    display: block;
    position: absolute;
    height: 100%;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0;
    transition: var(--time);

    &:hover { opacity:1; }
    &#lightbox-prev {
        width: 40%;
        background-image: linear-gradient(90deg, rgba(255, 255, 255, 0.5), #0000);
        left: 0;
        > svg { left: 1rem; }
    }

    &#lightbox-next {
        width: 40%;
        background-image: linear-gradient(90deg, #0000, rgba(255, 255, 255, 0.5));
        right: 0;
        > svg { right: 1rem; }
    }
}

#lightbox-info {
    padding-left: 0.5rem;
    color: white;
    position: absolute;
    bottom: -2.5rem; left:0;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 95%;
    
    > a {
        white-space: nowrap;
        font-family: var(--display-font);
    }
}
</style>
</head>
<body>
    <div id="lightbox" onclick="closeLightBox()">
        <div id="lightbox-content">
            <a href="#" id="lightbox-prev" onclick="swapImg()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="#000000" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"/></svg>
            </a>
            <img src="./img/2024-Introspection.png" alt="" style="--width: 827; --height: 661;">
            <a href="#" id="lightbox-next" onclick="swapImg()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="#000000" d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </a>

            <div id="lightbox-info">
                <a href="#">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Laudantium iure, ratione magni soluta alias ullam eaque saepe dolore. Ab possimus excepturi nemo praesentium provident eos hic, ullam voluptatum adipisci! Eos.</a>
            </div>
        </div>
    </div>
    <button onclick="openImg()">click me</button>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum velit, accusamus, explicabo quam alias ab quod deserunt, aut amet quibusdam fugiat doloribus! Quibusdam itaque animi amet perferendis reiciendis corporis velit! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Tenetur, amet porro nobis autem odit harum quas eius impedit dolor temporibus itaque dolore officiis. Maxime fuga, vero esse repudiandae inventore quae.</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur deserunt, eius commodi animi hic inventore sit, aspernatur neque doloremque molestiae, ipsam quisquam et aliquid dolor. Hic illo suscipit voluptatibus harum.</p>
<script>
lb_e = document.getElementById("lightbox")
lb_c = document.getElementById("lightbox-content")

lb_height = getComputedStyle(lb_e).getPropertyValue("--default-height")
lb_color = getComputedStyle(lb_e).getPropertyValue("--default-color")
lb_img = getComputedStyle(lb_e).getPropertyValue("--default-img")
lb_time = parseFloat(getComputedStyle(lb_e).getPropertyValue("--time")) * 1500

function openImg() {
    lb_e.style.background = lb_color
    lb_e.style.height = lb_height
    lb_e.querySelector("img").style.maxHeight = lb_img
}

function closeLightBox() {
    if (lb_c.contains(event.target) === false) {
        lb_e.style.background = "unset"
        lb_e.style.height = "0vh"
        lb_e.querySelector("img").style.maxHeight = "0"
    }
}

function swapImg () {
    lb_e.querySelector("img").style.maxHeight = "0"
    setTimeout(function () {
        lb_e.querySelector("img").style.maxHeight = lb_img
    }, lb_time)
}

</script>
</body>
</html>